<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-5">
      <div class="card">
        <div class="title">
          <h2>Edit Product</h2>
        </div>
        <div class="card-body">
          <form
            action="/Updata/<%= product.id %>"
            enctype="multipart/form-data"
            method="post"
          >
            <div class="my-3">
              <label for="">Product Name</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter Product Name"
                name="name"
                value="<%= product.name %>"
              />
            </div>
            <div class="my-3">
              <label for="">Reguler Price</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter Reguler Price"
                name="regulerPrice"
                value="<%= product.regulerPrice %>"
              />
            </div>
            <div class="my-3">
              <label for="">Sale Price</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter Sale Price"
                name="salePrice"
                value="<%= product.salePrice %>"
              />
            </div>
            <div class="my-3">
              <label for="">Product Category</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter Product Category"
                name="category"
                value="<%= product.category %>"
              />
            </div>
            <div class="my-3">
              <label for="">Product Stock</label>
              <input
                type="text"
                class="form-control"
                placeholder="Enter Store Product Quantity "
                name="stock"
                value="<%= product.stock %>"
              />
            </div>
            <div class="my-3">
              <label for="">Product Image</label>
              <input
                type="file"
                class="form-control"
                id="imageUpload"
                accept="image/*"
                onchange="previewImage(event)"
                name="productPhoto"
              />
              <div
                class="my-3"
                style="
                  width: 200px;
                  height: 200px;
                  object-fit: cover;
                  display: flex;
                "
                id="preview"
              >
                <img
                  style="width: 200px; height: 200px"
                  src="/product/<%= product.photo %>"
                  alt=""
                />
              </div>
            </div>

            <div class="my-3">
              <button type="submit" class="btn btn-primary">Update</button>
              <a href="/" class="btn btn-success">Back Home</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ////////////////////////////////////// -->
<script>
  function previewImage(event) {
    var reader = new FileReader();
    reader.onload = function () {
      var preview = document.getElementById("preview");
      var image = new Image();
      image.src = reader.result;
      preview.innerHTML = "";
      preview.appendChild(image);

      var address = document.getElementById("address");
      address.textContent = "Image Address: " + reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  }
</script>
